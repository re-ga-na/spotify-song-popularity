<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Spotify Song's Popularity</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/superhero/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
</head>

<body>
  <div class="wrapper">
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="../../index.html">What does it take to have a popular song on Spotify?</a>
        </div>
        <ul class="nav navbar-nav navbar-right">
        <li class="navbar-item">
          <a href="static/assets/more_analysis.html" class="nav-link"><strong>Project Detail</strong></a>
        </li>
        <li class="navbar-item">
          <a target="_blank" href="https://github.com/re-ga-na/spotify-song-popularity" class="nav-link"><strong>GitHub</strong></a>
        </li>
        </ul>
      </div>
      
    </nav>
    
  <div class="card-deck">
    <div class="col-sm-12">
      <div class="card">
        <div class="card-body">
          <h1 class="card-title">Final Project</h1>
            <hr></hr>
              <!-- <img class="rounded float-left" alt= "Chocolate" width="300" height="150" src="assets/chocolate.png" hspace="20"> -->
            <h5>What does it take to have a popular song on Spotify? </h5>
            <p class="card-text">This is, quite literally, the million-dollar question.
            <br></br>
            This project has the objective to predict a song’s Spotify popularity based on audio features from the Spotify database and song popularity measured by the number of followers.
            We used regression and classification models to answer some of these questions:
            <ul>
              <li>What does it take to get a popular song on Spotify? </li>
              <li>Can a song's features predict its popularity on Spotify?</li>
            </ul> 
            From the Spotify database API, a ~45,000 songs and artist were analyzed from different genres. The dataset comes from Million Song Database (2008-2010) and Kaggle Datasets. There were three different calls to the API to get artist, audio and track features.
            After using Python and some data wrangling techniques, we created data frame that was used to do some exploratory data analysis. Our Target Variable is Popularity and the Independent Variables are: Acousticness, Danceability, Duration, Energy, Instrumentalness, Key, Liveness, Loudness, Mode, Speechiness, Tempo, Valence and Followers.
            <br></br>
            <h5><bold>Data and Analysis</bold></h5>
            <br></br>
            <div> 
              <p class='image-text'> Looking at the distributions of each feature, there is no clear correlation between the popularity of a song, 
              and other features. The only features that show some correlation are Loudness, Acousticness Energy and Followers.
            </div>
              <img class="rounded float-left" alt= "Correlation HeatMap" width='50%' height='50%'  src="../images/Correlation_HeatMap.png">
              <br></br>
            <div>
              <p class='image-text'> To get a better sense of how the features are correlated, we created different plots. The most significant one is the one is Energy vs. Loudness by Acousticness, While other plots, as you notice from the image below, are not really meaningful. 
            </div>  
              <img class="rounded float-left" alt= "Energy vs. Loudness by Acousticness" width='50%' height='50%' src="../images/Energy_vs_Loudness_by_Acousticness.png">
              <br></br>
              <img class="rounded float-left" alt= "Other Pcatter Plots" width='50%' height='50%' src="../images/scatter_plots.png">
              <br></br>
            <div>
              <p class='image-text'>To improve the understanding of the overall distribution of these features, we created different visualizations as follows.
            </div>
              <img class="rounded float-left" alt= "Pair Plots" width='50%' height='50%' src="../images/pair_plots.png">
              <br></br>
            <div>
              <p class='image-text'>Followers vs. popularity – the more popular the song, the more followers it has. 
            </div>
              <img class="rounded float-left" alt= "Box Plot Followers" width='50%' height='50%' src="../images/box_plot_followers.png">
              <br></br>
            <div>
              <p class='image-text'>On the other hand, we would expect, the danceability of the song to have a correlation to its popularity, but it is not happening. 
            </div>
              <img class="rounded float-left" alt= "Box Plot Dancability" width='50%' height='50%' src="../images/box_plot_dancability.png">
              <br></br>
            <div>
              <p class='image-text'>Instrumentaliness vs. popularity, instead, shows that the less instrumental the song is, the more popular it becomes.
            </div>
              <img class="rounded float-left" alt= "Box Plot Instrumentalness" width='50%' height='50%' src="../images/box_plot_instrumentalness.png">
              <br></br>
              <h5><bold>Modeling</bold></h5>
            <div>
              <p class='image-text'>Our target variable is popularity, which has a value from 0 to 100, with 100 being the most popular. Spotify's "Popularity" Score is calculated by algorithm and is based, in the most part, on the total number of plays the track has had and how recent those plays are.
              <!-- <br></br> -->
              We used classification algorithms to predict whether a song will be popular or not. We used historical data to train the model and built a prediction model by regression. The 3 models we used are: Linesr Regression, OLS Regression and Classification Model.
            </div>
              <img class="rounded float-left" alt= "Target Variable" width='50%' height='50%' src="../images/target_variable.png">
              <br></br>
            <div>
              <p class='image-text'>The first model we ran is the linear regression. We separated the variables into x and y:
              <br></br>
            </div>
            <div>
              <ul class='image-text'>
                <li><strong>X</strong> are all the independent variables or predictors (we have a total of 14)</li>
                <li><strong>Y</strong> is the depended variable, which in this case is popularity</li>
              </ul>
            </div>
            <div>
              We did a split on a train test, we used a test size is 30%, so means that percentage of training is 70%. The result gave us an R2 of 22 percent. We also tried to improve the accuracy using other tools, including the log of popularity, reducing the number of features using the scaler. Still, the R2 that we got with these tests was even lower than 22%.
              <br></br>
              On the left are the Residual and Error Plots. Ideally, the error plots should typically be distributed around zero, but instead, you can observe a mountain shape with two peaks. We believe this is because of the data set we add together, which shows some kind of skew, as seen in the distribution of the popularity data, the curve that looks like a dinosaur. So the distribution shape can translate in a similar distribution of errors.
            </div>
            <img class="rounded float-left" alt= "Linear Regression Model" width='50%' height='50%' src="../images/linear_regression_model.png">
            <br></br>
            <p class='image-text'>We also run an OLS regression and got the same R2 of 22%.
            <p>We can see here that variables like danceability, instrumentalness, liveness have the highest coefficient which shows how this variable is highly correlated with the popularity
              We can also see here the p-value, where valuables like mode and key show that are not statistically significant.
              On the top, we can also see the F-statistic, which is a large number, so this represents that our data has a higher dispersion.
              <br></br>
              At the right, we see the Root Mean Square Error (RMSE), which is the square root of the variance of the residuals. It indicates the absolute fit of the model to the data, meaning that how close the real values are to the model’s predicted values.
              <br></br>
              We were hoping to get better regression results trying several tests, but we could not improve the results.</p>
              <img class="rounded float-left" alt= "OLS Model" width='50%' height='50%' src="../images/OLS_model.png">
              <br></br>
              <p>We changed the continuous variable of popularity that is from 0 to 100 and have two sets, one from zero to 60 and other from 60 to 100.
              Form 0 to 60, we called it not popular, and over 60 popular. 
              We tried the four models listed below and found out that Random Forest Classifier and decision tree classifier were the best. We were not expecting to see such strong AUC numbers closer to 88.</p>
              <img class="rounded float-left" alt= "Classification" width='50%' height='50%' src="../images/classification.png">
              <br></br>
                                  
                <h5><strong>General Conclusions</strong></h5>
                <ul>
                  <li>one</li>
                  <li>two</li>                      
                  <li>three</li>
                </ul>
                  <img class="rounded float-left" alt= "Model_Performance" width='50%' height='50%' src="../images/Model_Performance.png">
                  <h5><strong>Difficulties</strong></h5>
                  <ul>
                    <li>one</li>
                    <li>two</li>                                           
                  </ul>
                    <h5><strong>Additional Inquiry</strong></h5>
                  <ul>
                    <li>one</li>
                    <li>two</li>                      
                    <li>three</li>
                  </ul>
        </div>
      </div>
    </div>               
  </div>
      <div>
        <footer class="footer">
          <span class="bottom">Iris Kurti, Regana Alicka, Suhaib Kiani and Ricardo Calderon</span>
        </footer>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.11.0/d3.js"></script>
      <script src="static/js/data.js"></script>
      <script src="static/js/app.js"></script>
    </body>
    
    </html>